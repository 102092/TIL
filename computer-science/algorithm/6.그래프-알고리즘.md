### 그래프란?

- 그래프는 노드Node, 에지 edge로 이루어져 있음.
- 일반적인 그래프는 방향이 없는 그래프.
- 방향 그래프는 에지들이 방향을 가지고 있음.
- 가중치 그래프는 에지마다, 가중치 값이 존재한다.
- 일반적인 그래프는 두개의 노드는 하나의 에지 만으로 연결되고 있음.



##### 그래프 표현

- 대부분 인접행렬 혹은 인접 리스트로 표현된다.



##### 인접 행렬

- 그래프에 있는 모든 노드, 정점들을 행렬에 때려 박아놓은 것을 의미함.
- 대칭행렬, 대각선으로 기준으로 서로 대칭임.
- 사용하는 메모리 공간 O(N^2)
- 어떤 노드에 인접한 노드를 알아보려면 O(N)
  - 즉 실제 인접한 노드의 갯수와는 무관하게, O(N) 시간이 걸림.



##### 인접 리스트

- 노드 ,정점 집한을 하나의 배열
- 각 노드마다 인접한 노드들의 연결리스트가 있음.
- N개의 연결리스트를 하나의 배열에 저장해놓는 방식.
- 노드의 갯수는 2 * m(edge의 갯수)
- 저장공간은 O(n + m)
- 어떤 노드에 인접한 모든 노드를 찾으면 O(degree(v)), 실제 노드 갯수만큼 시간이 걸리니까 인접행렬 보다는 유리하다고 볼 수 있음.
- 어떤 에지가 존재하는 지 보려면 O(degree(u)) 다 읽어보는 수밖에 없으니까, 인접행렬보다는 불리함.



##### 방향 그래프

- self-edge가 있을 수도 있음.
  - 그래서 인접 행렬을 비대칭함.
  - 그리고 인접 리스트의 노드갯수는 edge만큼 있음.



##### 그래프 용어

- 경로 : 특정 노드에서, 특정 노드까지 에지를 따라서 가는 길을 의미함.
- 두 노드 사이에 경로가 있을 때, **연결** 되어 있다고 봄
- 만약에 두 노드 사이에 하나의 에지만 있다면, 이는 **인접** 하다 라고 함.
- 모든 노드의 쌍들이 연결되어 있으면, **연결된 그래프** 라고 함



### BFS

- 그래프 순회는 모든 노드들을 방문하는 것을 의미함.
- Breadth First Search : 너비 우선 순회
- 하나의 노드를 중심으로 **동심원 형태**로 노드들을 방문해 나간다.
- 일반적으로 이를 구현하는 방법은 `Queue` 를 이용하여 구현.
- 왜? 이걸 이용할까?
  - BFS를 사용하면 <u>최단 경로</u>를 찾을 수 있음





### 최소 비용 신장 트리

- minimun spanning tree(MST)
- **무방향** 가중치(양수) 그래프에 대해서만 정의된 문제임.
- <u>가중치의 합이 최소가 되는 조건</u>을 만족하도록 노드들을 연결함.
- 그런데 왜 트리라고 부르는가?
  - 보통 트리는 계층적인 구조를 의미하는데.
  - 모든 노드들이 **연결**되면서 동시에 **싸이클이 없기** 때문에, 트리라고 부른다.
  - 싸이클 : 중복 연결되었음.
- 대부분의 네트워크 디자인에서 기본적으로 연결되는 방법을 의미하기도 한다.
  - 왜? 컴퓨터 간 네트워크는 서로 연결되어 있으면서,
  - 이러한 연결에 드는 비용이 최소면 좋으니까.



#### Generic MST 알고리즘

1. 처음에는 공집합에서 출발해서

2. 이 집합에 안전한 에지를 찾아서 더하고

3. 에지의 갯수가 n-1 개가 될 때까지 2번을 반복

- 어떻게 `안전한 엣지` 를 찾을 것인가? 가 핵심 포인트.
- 컷 : 어떠한 집합(V) 을 `S`와 `V-S`로 분할 한 것을 의미함.
- cross 한다 : `S`에서 한 노드와, `V-S` 에서 한 노드를 연결할 경우 
- repect 존중한다 : 어떤 부분 집합(A)에 속한 에지도, cut을 크로스 하지 않을 때 -> cut(S, V-S) 은 A를 존중한다고 의미함.

> 정리

- A가 어떤 MST의 부분 집합이고, (S, V-S) 는 A를 존중하는 컷이라 할 때, 
- 이 컷을 `cross`하는 에지들 중에서, 가장 가중치가 작은 `에지 (u,v)`는 A에 대해서 **안전**하다.
- 즉 안전하다는 의미는 , <u>이 에지를 A에 추가해도, 여전히 어떤 MST의 부분 집합</u>이다.



#### Kruskal 알고리즘

1. 에지들을 가중치의 오름차순으로 정렬
2. 에지들을 순서대로 선택함. 
   - 선택 시에 단 이미 선택된 에지들과 사이클을 형성하는 경우, 선택하지 않음.
   - 에지의 가중치가 같은 것이 있을 경우, 어떤것을 선택해도 상관 없음.
3. n-1 개 에지가 선택되면 종료함.

- 실제로 이것을 구현하는 것은 간단하지 않다.. ㅠㅠ
- 왜 1,2,3번을 수행하면 MST가 찾아지는가?
- 기본적인 MST알고리즘에 기반하여 진행함.
- 가장 핵심이 되는 부분?
  - 어떠한 에지를 추가했을 때, 사이클이 생기는 가를 어떻게 알아낼까?
    - 연결되어 있는 노드들을 하나의 **집합** 으로 표현.
    - 가중치가 최소인 에지에 연결된 두 노드들이 서로 다른 집합에 있을 때, 사이클을 만들지 않음.
    - 그러면 두 노드들을 하나의 집합으로 바꿈.

