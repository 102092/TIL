# 1장

- 도메인에 대한 깊은 지식 없이 해당 주제를 기반으로한 복잡한 소프트웨어를 만드는 것은 불가능하다

- 도메인이란 무엇인가?
  - 도메인은 세상의 어떤 것.
- 추상화란 무엇인가?
  - 도메인을 표현한 모델
  - 도메인 모델은 지식에서 선택적으로 추상화 하여, 엄격하게 조직화 한 것.
- 모델이란?
  - 도메인에 대한 내부적 표현으로서, 설계와 개발 프로세스내내 필요한 존재
  - 도메인의 특정부분(필요한 부분만) 표현한 것
- 모델을 통해서, 도메인 전문가, 설계자, 개발자들과 의사소통 해야한다.
  - 의사소통 방식은 글, 그림등이 있을 것이고
- 세상 어떤것 --> 도메인 --> (추상화 하여) --> 모델 
- 소프트웨어를 설계하는 방법
  1. 폭포수 모델 : 위에서 아래로
  2. 애자일 방법론 : 조끔식 같이 진행함



# 2장

- 공통 언어의 필요성
- 심지어 용어를 사용하는 사람도 말하고 쓸 때, 서로 다른 언어를 사용한다.
- 도메인 주도 설계의 핵심 원칙은 모델 기반의 언어를 사용하는 것.
  - 왜?
  - 모델이 소프트웨어와 도메인이 서로 교차하는 지점이기 때문에
- 모델기반의 언어를 유비쿼터스 언어라 부른다.
- 개발자가 모델의 주요 개념을 코드로 구현해 봐라



# 3장

- 유비쿼터스 언어의 중요성
- 모델이란, 소프트웨어 그 자체에 설계 고려 사항에 초점을 맞추어 만들어야 하며, 개발자들은 모델링 프로세스가 진행되는 동안 함께 참여해야 한다.



## 계층형 아키텍처

- 사용자 인터페이스 -- 애플리케이션 -- 도메인 -- 인프라스트럭처
- 사용자 인터페이스 : 사용자에게 정보를 보여주고, 사용자의 명령을 해석하는 책임을 진다.
- 애플리케이션 : 업무 로직을 포함 하지 않음. 애플리케이션 활동을 조율하는 역할
- 도메인 레이어 : 도메인 정보를 포함. 업무 소프트웨어의 심장, 비즈니스 객체의 상태를 포함
- 인프라 스트럭처 : 레이어간 통신을 제공, 비즈니스 객체의 영속성을 구현



## 엔티티

- 여러 레이터를 거치는 동안에 동일한 값을 유지하면서, 식별자를 가지고 있는 객체
- 중요한 것은 연속성, 식별성



## 값 객체

- 도메인의 어떤 측면을 표현하는데 사용되지만, 식별자는 없는 객체
- 왜 사용?
  - 항상 식별자를 가진 객체가 필요하진 않음.
  - 예를 들면 좌표를 나타내는 객체나 돈이라는 객체에 식별자가 필요할까?
  - 중요한 것은 그 객체가 어떤 값을 가지고 있는지
- 값 객체를 공유할 수 있다면, 반드시 변경 불가능하게 만들어야 한다.
  - 이는 불필요한 사이드 이펙트를 유발하지 않도록 할 수 있음.



## 서비스

- 도메인의 어떤 부분들 중, 객체에 쉽게 매핑 될 수 없는 부분을 모아둔 것.
- 예를 들면, 은행의 한 계좌에서 다른 계좌로 돈을 보내는 기능을 표현하고자 할 때, 이러한 행위는 보내는 쪽과 받는 쪽 어느 쪽에서 존재해야할까?
  - 결과적으로 어느쪽에 있어도 잘못된 것.
- 위와 같은 행동들을 모아둔 것이 서비스
- 서비스는 많은 객체가 관계를 맺는 지점.



### 특징

1. 기능의 상태를 저장하지 않고
2. 어떠한 기능이 수행되는 동안, 도메인의 다른 객체를 참조하고 있고
3. 여기서 기능이 수행된다는 의미는, 엔티티 또는 값 객체에는 속하지 않는 도메인의 어떤 부분(송금같은)을 의미한다.



## 모듈

- 모듈화란? 관련된 개념과 작업을 조직화하여 복잡도를 감소시키는 기법
- 왜 사용?
  - 코드는 높은 응집도와 낮은 결합도를 추구해야하기 때문
- 높은 응집도를 달성하기 위해서, 밀접한 관게를 가진 클래스끼리 하나의 모듈로 정의하는 것이 좋음.
- 인터페이스같은 느낌?



## 집합

- 객체의 소유권과 경계를 정의하는 데 사용 되는 패턴
- 데이터를 변경할 때, 하나의 단위로 간주되는 관련된 객체들을 집합이라 한다.
- aggregation
- 각 집합은 하나의 root를 가진다.
- root는 엔티티이고, 외부에서 접근할 수 있는 창구이다.
- 집합이 어떻게 데이터의 무결성을 보장하고, 불변식을 강제할 수 있을까?
  - 오직 root를 통해서만 속한 객체들을 수정할 수 있기 때문.



## 팩토리

- 복잡한 객체 생성의 절차를 캡슐화 할 수 있는 개념을 의미.
- 팩토리 패턴의 등장...
- 팩토리 대신 생성자를 사용하는 경우?
  - 생성 작업이 복잡하지 않을 때,
  - 객체의 생성이 다른 객체의 생성에 연관되어 있지 않고, 모든 속성이 생성자를 통해 전달되어야할때



## 레파지토리

- 팩토리는 새로운 객체를 생성
- 레파지토리는 이미 생성되어 있는 객체를 검색
- 또한 인프라 스트럭처와 연결을 포함함

# 4장

##  리팩토링

- 리팩토링은 대체로 작은 큐모, 제어 가능한 절차를 적용하면서... 기존에 정상적으로 동작하는 기능을 손상시키거나 새로운 버그를 추가하지 않도록 해야함.
- 