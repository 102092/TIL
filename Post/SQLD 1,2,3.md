## SQLD 1,2,3

- 데이터 모델링 유의점은?
  - 중복 : 같은 정보를 저장하지 않도록
  - 비유연성 : 데이터 정의, 사용프로세스를 분리함으로써 작은 변화가 데이터베이스에 중대한 변화를 일으킬 수 있는 가능성을 줄인다
  - 비일관성 : 데이터간 상호연관성을 명확하게 정의한다.
- 3단계 구조
  1. 외부 스키마 : 사용자 응용프로그래머 관점에서,
  2. 개념 스키마 : 모든 사용자 관점을 통합한 조직 전체 관점의 통합적 표현
  3. 내부 스키마 : 시스템 개발자 관점

- ERD

  1. 엔티티 도출
  2. 엔티티 배치
  3. 관계 설정
  4. 관계 기술

  - 피터첸



- 엔티티

  - 반드시 해당 업무에서 필요하고 ,관리하고자 하는 정보여어
  - 유일한 식별자에 의해 식별이 가능
  - 2개 이상 인스턴스 집합
  - 반드시 속성이 있어야함
  - 최소 1개 이상 다른 엔티티와의 관계가 설정되어야 함

- 엔티티 종류

  1. 기본(키)
  2. 중심(메인)
  3. 행위
  4. 개념

  - 엔티티이름을 명명할 때는 가능한 약어를 쓰지 않는다.

- 속성

  - 더 이상 분리되지 않는 최소의 데이터 단위
  - 한 개의 속성은 한 개의 속성값을 가짐
  - 하나의 엔티티는 2개 이상 속성을 가짐

  1. 기본
  2. 파생 : 데이터를 조회할 때 빠른 성능을 할 수 있도록 하기 위해 원래 속성값을 계산하여 저장할 수 있도록 만든 속성
  3. 설계
  4. PK



- 도메인
  - 각 속성이 가질 수 있는 범위를 일컫는 말

- 데이터 모델링에서는 존재적 관계, 행위에 의한 관계를 구분하는 표기법 없음

  UML에서는 연관관계, 의존관계에 대한 다른 표기법을 가지고 표현하게 되어있음.



- 관계
  - 존재적, 행위에 의한으로 나뉨
  - 표기법은 관계명, 관계차수, 선택성 3가지 개념을 사용
  - 동사는 관계를 서술하는 업무기술서의 가장 중요한 사항
- 주식별자
  - 지정되면 반드시 값이 있어야 하고,
  - 주식별자에 의해 모든 인스턴스들이 명확하게 구분되어야함
  - 유일성, 유일하게 구분할 수 있어야하고
  - 최소성, 구성하는 속성의 수가 최소이어야 하고,
  - 불변성, 변하면 안되고
  - 존재성 , null안되고

- 식별자 종류
  1. 대표성 ? 주식별자, 보조 식별자
  2. 스스로 생성? 내부식별자, 외부식별자
  3. 단일 속성으로 식별이 되는가? 단일 식별자, 복합식별자
  4. 원래 있었던 것을 대체? 본질 식별자, 인조 식별자
     - 사번은 본질식별자
     - 인조식별자는 시스템적으로 일부러 만들어서 부여하는
- 성능데이터베이스 모델은, 성능향상을 목적으로 설계된것

- 반정규화

  1. 정규화를 시행하고
  2. 데이터베이스 용량산정을 수행하고
  3. 트랜잭션 유형을 파악하고
  4. 용량, 트랜잭션 유형에 따라 반 정규화를 실행하고
  5. 이력모델 조정, pk/fk 조정, 슈퍼/서브 타입 조정하고
  6. 성능관점에서 데이터 모델을 검증함

  - 데이터 무결성이 깨질 수 있는 위험을 무릎쓰고, 데이터를 중복하여 반정규화를 실행함
  - 왜? 데이터를 조회할 때 데이터 I/O량이 너무 많아서..

- 반정규화 기법

  - 테이블의 반정규화 , 수직수평분할 1:1,m 관계 테이블 병합, 중복통계이력부분 테이블 추가..등..
  - 칼럼의 반정규화, 중복칼럼 추가, 파생칼럼,pk에 대한 칼럼 추가등등

- 정규화는 중복된 데이터를 제거하는 과정임 

  1차 정규화 : 각 로우(가로) 마다 하나의 속성값을 갖도록 설정

  2차 정규화 : 모든 컬럼이 완전 함수적 종속을 만족하도록, 부분적 종속이 없어지도록 정규화 하는 것, 테이블을 분리한다.

  3차 정규화 : 이행적 함수 종속이 없어지도록 하는 것, pk에 의존하지 않고, 일반 칼럼에 의존하는 컬럼들을 분리하는 것

  BCNF : 3차 정규화에 좀더 강화된 버젼.

