> 참고

- [만화로쉽게배우는CPU](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=185765240)



## 목표

- 이해한 것을 아는 것을 나의 언어로 풀어쓰자.
- 읽어도 이해 안되는 것은 스무스하게 넘어가자. 붙잡고 있지말자.





## 목차





## 1. What is the CPU?

- CPU가 하는 주요 업무는 연산.

  - 산술연산, 논리연산.

- **메인 메모리**가 중요하다.

  - 왜? CPU가 연산을 할 때, **반드시 메모리와 데이터**를 주고 받기 때문에.

- CPU는 제어장치, 연산장치로 이루어져 있음.

  - 연산장치 ALU라 하는데, Arithmetic Logic Unit, 산술 논리 장치

  ![](https://pediaa.com/wp-content/uploads/2018/07/Difference-Between-CPU-and-ALU_Figure-2.gif)
  - Opcode, 명령어 입력함.
  - Status , 연산 상태 ex) plus, minus
  - 왜 연산상태가 필요할까?
    - 연산상태가 플러스인지, 마이너스인지 판단하여 CPU의 이후의 행동을 변환시키기 때문.
    - 즉 판단을 하는 것이라 할 수 있네.

  

> 종합해보면, CPU는 연산 뿐만 아니라 판단도 할 수 있음을 알 수 있음.



## 2. Digital Calculate

- 0,1 상반되는 2가지 상태를 나타내는 것. 기호
- 컴퓨터는 실제로 0,1을 구별하는 것이 아닌 **전압의 상태**를 통해 구별한다.
  - 전압의 상태?
    - 전앞이 높다 High == 1
    - 전압이 낮다 low == 0
- 컴퓨터는 2진수(0,1)만 읽을 수 있음.
- 0 또는 1를 **1bit**라 함



#### 고정소수점, 부동소수점

- 고정 소수점은 보통 일상적으로 사용하는 방법

  ![](https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F191682594D91708A30)
  - 가수부는 1이상 2미만의 수로 구성됨.
  - 왜? 이렇게?
    - 컴퓨터 CPU 처리 연산속도를 빠르게 하기 위해서.



#### 2진수 덧셈,뺄셈

- 뺄셈은 보수의 개념을 사용.

  - 보수? 원래 수의 음수에 상당함.
  - 무슨말?? 100에 15를 뺀다는 것은, 다시 생각해보면 100에 -15를 더한다고 이야기할 수 도 있을 것.
  - 15 + (-15) 와 15 + (85) 는 0 | 100으로 *하위 2자리* 만 보면 같음 (0 이나 00이나)
  - 왜 100의 첫번째 자리는 무시할까?
    - 2자리 계산이기 때문에? 넘어가는 자리수는 무시한다고 하는데...

- 보수는 원래 수에 더하면 자리수가 올라가는, 즉 자리 넘침이 발생하는 수. == 보충하는 수.

  - 1010 1000 

  + 0101 1000 더하면
  + 10000 0000 , 맨처음 1을 무시하면 0이되는 관계이므로 보수관계임을 알 수 있음.

- 2진수에서 보수를 어떻게 구할까?

  - 원래 수의 각 자를 모두 뒤바꾸고,
  - 그 뒤바꾼 수에 1을 더하면
  - 보수임.

- 10101000 -> 01010111 + 1 -> 01011000



#### 논리회로

![](https://t1.daumcdn.net/cfile/tistory/20563D534DFE0F9F18)



#### 레지스터

- CPU의 기억장치
  - 일회용 메모장
- latch한다, 데이터를 유지한다는 의미.



#### 플리플롭

- 클록과 관련된 이야기?
- 다시 봐야할듯.



## 3. Structure of CPU

- 메모리 속에는 주소가 할당되어있다.
- 버스 : 데이터의 통로
  - CPU와 Memory가 주고받는 데이터 통로
- 버스의 폭으로, 몇가닥이 CPU와 연결되어있는지에 따라 CPU의 성능을 파악할 수 있다.
  - 64bit? 64가닥이 연결되어있음.

- 버스는 외부 데이터 버스(메모리와 연결), 내부 데이터 버스(내부 ALU와 연결) 가 있음



#### R/W, I/O

- R/W 제어신호, CPU에게 메모리에 대해 **읽거나** **쓰라는** 명령을 내리는 것.



- 프로그램은 명령의 연속
- 레지스터 2가지
  - 누적기(계산 전용 메모장)
  - 범용 레지스터(계산 외에도 다방면으로 사용되는)
- 명령 레지스터
  - 메모리에서 읽은 명령들을 일단 저장해두는 레지스터
- 프로그램 카운터 PC
  - 모든 CPU에 반드시 있어야 하는 장치.
  - 다음 실행한 명령의 주소를 기억하고 있음.
  - 다음 명령의 주소를 계산하여, 일단 어드레스 레지스터에 저장한 후에, 메모리에 전달.
    - 메모리는 해당 주소에서 명령을 CPU에게 건네주면
    - 명령 레지스터에 저장된후,
    - 명령 디코더를 통해서 해독됨.
      - 왜? 메모리와 CPU가 사용하는 언어가 다르므로.

#### 보조기억장치

- HDD, 하드디스크
- 전원을 꺼도 저장된 데이터가 사라지지 않음.

- 하드디스크는 CPU가 **직접** 읽고 쓸 수 없음.
- 그리고 처리 속도가 느림.



#### RAM, ROM, I/O

- 메모리 공간이란, CPU가 관리하고 있는 외부 메모리 영역 **전체** 를 가르킨다.
- 이러한 메모리 공간은 RAM(읽고 쓸수 있는) ROM(읽기 전용) 2종류로 분류됨.
- RAM은 주 메모리 공간, 전원 끄면 사라진다.
- ROM은 BIOS가 내장된 공간, 전원을 꺼도 사라지지 않음. 부팅에 필요한 프로그램이므로
- I/O 영역은 입력과 출력을 관리하는.. 즉 다시 말하면 CPU와 키보드등이 직접 연결되어 있음을 알 수 있음.



#### Interrup

- 방해하는 기능
- 왜? 하나만 계속 잡고 있으면 사용자 입장에서 기다리는 경우가 생길 수 있으니,
- 굉장히 빠른 속도로 여러 작업들에 인터럽트 걸었다, 풀었다 하면서 마치 동시에 작업되는 것처럼 느끼게 해주는 기능.
- 작업이 교체되기 때문에, 이전 작업에서 원래 작업으로 돌아가기 위해 기억해야할 부분들이 있음.
- 이런 부분들을 메모해주는 공간이 `stack` , 그리고  `stack pointer` 라는 것도 있네.



##### 스택, 스택 포인터

- 스택은 메인메모리에서 일부공간을 확보하여, 기억장치로 사용됨.
- 스택 포인터는 최후로 조작한 스택의 어드레스, 주소를 기억하고 있음.
  - PC랑 같은 역할이면서 조금 다른 이름으로 불리네



##### 인터럽트 우선도

- 인터럽트 마스크 : 인터럽트를 받아들이지 않게 도와주는 기능
- 리셋 : 명령어중 가장 높은 우선도, 마스크를 하고 있어도 강제로 인터럽트 하게 함.
  - 언제 사용될까?
    - 전원을 켤때, 프로그램을 초기화 가장 상쾌한 상태로 시작하게 만들어줌.



#### Follow-up

- 디스플레이는 GPU- I/O -CPU이런식
- 키보드는 I/O - CPU

- 클록 속도가 높을 수록 CPU 능력이 좋다.



## 4. 연산 능력

- 기계어 : 컴퓨터가 직접 이해할 수 있는 언어.
  - 어셈블리어는, 기계어에 가까운 언어? 그러면서 사람이 이해할 수있는 언어..?
- 산술 연산
- 논리 연산
- shift
  - 비트를 이동한다. 오른쪽, 왼쪽 시프트가 있음.
  - 그리고 비트 시작은 사람이 봤을 때 오른쪽 부터.
  - 언제 사용할까?
    - 특정한 나눗셈, 곱셈을 신속하게 할 필요가 있을 때.
- 데이터 전송 명령
- 입출력 명령
- 분기 명령
  - 주소지를 점프한다.
- 스테이터스 플래그
  - 일정한 상태를 기억하고 있음.



#### 오퍼랜드

- 연산의 대상이 되는 **값**, 또는 어드레스

- 어드레싱 모드
  - 어드레스 등의 지정 방법
  - 직접 어드레싱, 직접 데이터가 있는 주소를 알려주고, 그 안에 실효 데이터가 있는 경우
  - 간접 어드레싱, 간접적으로 데이터가 알려있는 주소를 알려주고, 따라따라 가서 원하는 데이터를 얻는 경우
    - 왜 이렇게? 오퍼랜드길이를 너무 길지 않게 하기 위해서



#### 시리얼 전송, 패럴렐 전송

- 데이터 신호 전송방식 2가지
- 시리얼, 순서대로 전송한다. 직렬
- 패럴렐 동시에, 여러 방향에서 전송한다. 병렬





#### 기본적인 레지스터

- 누적기 
  - 일명 어큐뮬레이터
  - ALU 연산 결과를 기억하는 레지스터.
  - 뭔가 누적해서 전달하겠지?
  - 연산 결과를 그 다음에 연산에 이용할 수 있는 구조임 , 연결되어있음.
- 명령 레지스터, 명령 디코더
  - 명령을 기억하는 레지스터, 메모리에 있음.
  - 메모리에서 온 명령을 해독하는 디코더

- 스테이터스 레지스터.
  - 상태를 기록하는 레지스터
  - 누구의 상태?
  - 프로그램의 상태
  - 이 레지스터에 따라서, 프로그램의 순서가 정해질 듯.
- 수식 레지스터
  - 베이스 레지스터, 인덱스 레지스터.
  - 어드레싱 모드에 필요하다는데,
  - 어떻게 필요한지는 몰르게땅

- 프로그램 카운터
  - 다음에 실행할 명령 주소를 알고 있는 레지스터.
  - CPU에 내장되어있음
  - 모든 ! CPU에
- 스택 포인터
  - 스택 기능을 사용할 때 필요함.
  - 마지막 조작한 스택의 주소를 기억하고 있음.
  - 프로그램 카운터와 비슷한 느낌.



## 5. 프로그램



